---
import BaseLayout from "../layouts/BaseLayout.astro";

import EmployeeSection from "../components/EmployeeSection.astro";
import CoreValuesSection from "../components/CoreValuesSection.astro";
import Pie from "../components/Pie.astro";
import Layout from "../components/Layout.astro";
import Container from "../layouts/Container.astro";

const employeeData = await fetch(
  "https://raw.githubusercontent.com/daviatkea/frontend-design/main/resources/json/employees.json"
).then((res) => res.json());

const coreValuesData = await fetch(
  "https://raw.githubusercontent.com/daviatkea/frontend-design/main/resources/json/corevalues.json"
).then((res) => res.json());

const firstThreeEmployees = employeeData.slice(0, 3);
---

<BaseLayout title="Home">
  <Container>
    <EmployeeSection data={employeeData} />
  </Container>

  <Container layout="full-bleed" padding="6rem">
    <Layout method="flex" gap="1rem">
      <Pie percent={84} />
      <Pie percent={24} />
      <Pie percent={97} />
    </Layout>
  </Container>

  <Container layout="full-bleed" theme="dark">
    <CoreValuesSection data={coreValuesData} />
  </Container>
</BaseLayout>
